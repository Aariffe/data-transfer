var K=Object.defineProperty,Q=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var P=(i,s,o)=>s in i?K(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,V=(i,s)=>{for(var o in s||(s={}))X.call(s,o)&&P(i,o,s[o]);if(N)for(var o of N(s))Y.call(s,o)&&P(i,o,s[o]);return i},G=(i,s)=>Q(i,U(s));var D=(i,s,o)=>new Promise((d,r)=>{var l=c=>{try{h(o.next(c))}catch(b){r(b)}},p=c=>{try{h(o.throw(c))}catch(b){r(b)}},h=c=>c.done?d(c.value):Promise.resolve(c.value).then(l,p);h((o=o.apply(i,s)).next())});import{d as E,h as m,f as S,o as A,b1 as k,q as _,w as n,e as a,aM as B,aG as tt,b as F,ge as at,gF as et,s as C,t as w,h5 as ot,a4 as nt,A as q,_ as T,gh as M,gf as R,gA as j,aW as st,gD as lt,a as rt,S as it}from"./index-BLKh9tQK.js";/* empty css              *//* empty css              *//* empty css              */import{q as ct,u as dt,a as pt,b as ut,c as mt}from"./visualization-Bey_eqcI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{u as O}from"./chart-option-BslR1vMR.js";import{u as z}from"./loading-CMzUFs6t.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const ht={class:"content-wrap"},yt={class:"content"},_t={class:"desc"},ft={class:"chart"},gt=E({__name:"chain-item",props:{title:{type:String,default:""},quota:{type:String,default:""},chartType:{type:String,default:""},cardStyle:{type:Object,default:()=>({})}},setup(i){const s=()=>{const y=m([]),{chartOption:f}=O(()=>({grid:{left:0,right:0,top:10,bottom:0},xAxis:{type:"category",show:!1},yAxis:{show:!1},tooltip:{show:!0,trigger:"axis"},series:{name:"total",data:y,type:"bar",barWidth:7,itemStyle:{borderRadius:2}}}));return{data:y,chartOption:f}},o=()=>{const y=m([[],[]]),{chartOption:f}=O(()=>({grid:{left:0,right:0,top:10,bottom:0},xAxis:{type:"category",show:!1},yAxis:{show:!1},tooltip:{show:!0,trigger:"axis"},series:[{name:"2001",data:y.value[0],type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#165DFF",width:3}},{name:"2002",data:y.value[1],type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#6AA1FF",width:3,type:"dashed"}}]}));return{data:y,chartOption:f}},d=()=>{const y=m([]),{chartOption:f}=O(()=>({grid:{left:0,right:0,top:0,bottom:0},legend:{show:!0,top:"center",right:"0",orient:"vertical",icon:"circle",itemWidth:6,itemHeight:6,textStyle:{color:"#4E5969"}},tooltip:{show:!0},series:[{name:"总计",type:"pie",radius:["50%","70%"],label:{show:!1},data:y}]}));return{data:y,chartOption:f}},r=i,{loading:l,setLoading:p}=z(!0),{chartOption:h,data:c}=o(),{chartOption:b,data:e}=s(),{chartOption:t,data:u}=d(),x=m({count:0,growth:0,chartData:[]}),v=m({});return(y=>D(this,null,function*(){try{const{data:f}=yield ct(y);x.value=f;const{chartData:$}=f;r.chartType==="bar"?($.forEach((g,I)=>{e.value.push({value:g.y,itemStyle:{color:I%2?"#2CAB40":"#86DF6C"}})}),v.value=b.value):r.chartType==="line"?($.forEach(g=>{g.name==="2021"?c.value[0].push(g.y):c.value[1].push(g.y)}),v.value=h.value):($.forEach(g=>{u.value.push(g)}),v.value=t.value)}catch(f){}finally{p(!1)}}))({quota:r.quota}),(y,f)=>{const $=at,g=et,I=ot,H=q("Chart"),Z=B,J=k;return A(),S(J,{loading:_(l),style:{width:"100%"}},{default:n(()=>[a(Z,{bordered:!1,style:tt(i.cardStyle)},{default:n(()=>[F("div",ht,[F("div",yt,[a($,{title:i.title,value:x.value.count,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"]),F("div",_t,[a(g,{type:"secondary",class:"label"},{default:n(()=>[C(w(y.$t("dataAnalysis.card.yesterday")),1)]),_:1}),a(g,{type:"danger"},{default:n(()=>[C(w(x.value.growth)+" ",1),a(I)]),_:1})])]),F("div",ft,[_(l)?nt("",!0):(A(),S(H,{key:0,option:v.value},null,8,["option"]))])])]),_:1},8,["style"])]),_:1},8,["loading"])}}}),L=T(gt,[["__scopeId","data-v-7e8a8895"]]),bt=E({__name:"public-opinion",setup(i){const{isDark:s}=dt();return(o,d)=>{const r=R,l=M,p=B;return A(),S(p,{class:"general-card",title:o.$t("dataAnalysis.title.publicOpinion"),"header-style":{paddingBottom:"12px"}},{default:n(()=>[a(l,{cols:24,"col-gap":12,"row-gap":12},{default:n(()=>[a(r,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:n(()=>[a(L,{title:o.$t("dataAnalysis.card.title.allVisitors"),quota:"visitors","chart-type":"line","card-style":{background:_(s)?"linear-gradient(180deg, #284991 0%, #122B62 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"}},null,8,["title","card-style"])]),_:1}),a(r,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:n(()=>[a(L,{title:o.$t("dataAnalysis.card.title.contentPublished"),quota:"published","chart-type":"bar","card-style":{background:_(s)?" linear-gradient(180deg, #3D492E 0%, #263827 100%)":"linear-gradient(180deg, #F5FEF2 0%, #E6FEEE 100%)"}},null,8,["title","card-style"])]),_:1}),a(r,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:n(()=>[a(L,{title:o.$t("dataAnalysis.card.title.totalComment"),quota:"comment","chart-type":"line","card-style":{background:_(s)?"linear-gradient(180deg, #294B94 0%, #0F275C 100%)":"linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"}},null,8,["title","card-style"])]),_:1}),a(r,{span:{xs:12,sm:12,md:12,lg:12,xl:6,xxl:6}},{default:n(()=>[a(L,{title:o.$t("dataAnalysis.card.title.totalShare"),quota:"share","chart-type":"pie","card-style":{background:_(s)?"linear-gradient(180deg, #312565 0%, #201936 100%)":"linear-gradient(180deg, #F7F7FF 0%, #ECECFF 100%)"}},null,8,["title","card-style"])]),_:1})]),_:1})]),_:1},8,["title"])}}}),vt=E({__name:"content-period-analysis",setup(i){const s=e=>e.map(t=>`<div class="content-panel">
        <p>
          <span style="background-color: ${t.color}" class="tooltip-item-icon"></span>
          <span>${t.seriesName}</span>
        </p>
        <span class="tooltip-value">
        ${t.value}%
        </span>
      </div>`).join(""),{loading:o,setLoading:d}=z(!0),r=m([]),l=m([]),p=m([]),h=m([]),{chartOption:c}=O(e=>({grid:{left:"40",right:0,top:"20",bottom:"100"},legend:{bottom:0,icon:"circle",textStyle:{color:"#4E5969"}},xAxis:{type:"category",data:r.value,boundaryGap:!1,axisLine:{lineStyle:{color:e?"#3f3f3f":"#A9AEB8"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#86909C"},interval(t){return!(t===0||t===r.value.length-1)}},axisLabel:{color:"#86909C",formatter(t,u){return u===0||u===r.value.length-1?"":`${t}`}}},yAxis:{type:"value",axisLabel:{color:"#86909C",formatter:"{value}%"},splitLine:{lineStyle:{color:e?"#3F3F3F":"#E5E6EB"}}},tooltip:{show:!0,trigger:"axis",formatter(t){const[u]=t;return`<div>
            <p class="tooltip-title">${u.axisValueLabel}</p>
            ${s(t)}
          </div>`},className:"echarts-tooltip-diy"},series:[{name:"纯文本",data:l.value,type:"line",smooth:!0,showSymbol:!1,color:e?"#3D72F6":"#246EFF",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#E0E3FF"}}},{name:"图文类",data:p.value,type:"line",smooth:!0,showSymbol:!1,color:e?"#A079DC":"#00B2FF",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#E2F2FF"}}},{name:"视频类",data:h.value,type:"line",smooth:!0,showSymbol:!1,color:e?"#6CAAF5":"#81E2FF",symbol:"circle",symbolSize:10,emphasis:{focus:"series",itemStyle:{borderWidth:2,borderColor:"#D9F6FF"}}}],dataZoom:[{bottom:40,type:"slider",left:40,right:14,height:14,borderColor:"transparent",handleIcon:"image://http://p3-armor.byteimg.com/tos-cn-i-49unhts6dw/1ee5a8c6142b2bcf47d2a9f084096447.svg~tplv-49unhts6dw-image.image",handleSize:"20",handleStyle:{shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:4},brushSelect:!1,backgroundColor:e?"#313132":"#F2F3F5"},{type:"inside",start:0,end:100,zoomOnMouseWheel:!1}]}));return D(this,null,function*(){d(!0);try{const{data:e}=yield pt();r.value=e.xAxis,e.data.forEach(t=>{t.name==="纯文本"?l.value=t.value:t.name==="图文类"&&(p.value=t.value),h.value=t.value})}catch(e){}finally{d(!1)}}),(e,t)=>{const u=q("Chart"),x=B,v=k;return A(),S(v,{loading:_(o),style:{width:"100%"}},{default:n(()=>[a(x,{class:"general-card","header-style":{paddingBottom:"16px"}},{title:n(()=>[C(w(e.$t("dataAnalysis.contentPeriodAnalysis")),1)]),default:n(()=>[a(u,{style:{width:"100%",height:"370px"},option:_(c)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),xt=T(vt,[["__scopeId","data-v-c670d010"]]),Ft=E({__name:"content-publish-ratio",setup(i){const s=e=>e.map(t=>`<div class="content-panel">
    <p>
      <span style="background-color: ${t.color}" class="tooltip-item-icon"></span>
      <span>
      ${t.seriesName}
      </span>
    </p>
    <span class="tooltip-value">
      ${Number(t.value).toLocaleString()}
    </span>
  </div>`).join(""),{loading:o,setLoading:d}=z(!0),r=m([]),l=m([]),p=m([]),h=m([]),{chartOption:c}=O(e=>({grid:{left:"4%",right:0,top:"20",bottom:"60"},legend:{bottom:0,icon:"circle",textStyle:{color:"#4E5969"}},xAxis:{type:"category",data:r.value,axisLine:{lineStyle:{color:e?"#3f3f3f":"#A9AEB8"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#86909C"}},axisLabel:{color:"#86909C"}},yAxis:{type:"value",axisLabel:{color:"#86909C",formatter(t,u){return u===0?`${t}`:`${t/1e3}k`}},splitLine:{lineStyle:{color:e?"#3F3F3F":"#E5E6EB"}}},tooltip:{show:!0,trigger:"axis",formatter(t){const[u]=t;return`<div>
            <p class="tooltip-title">${u.axisValueLabel}</p>
            ${s(t)}
          </div>`},className:"echarts-tooltip-diy"},series:[{name:"纯文本",data:l.value,stack:"one",type:"bar",barWidth:16,color:e?"#4A7FF7":"#246EFF"},{name:"图文类",data:p.value,stack:"one",type:"bar",color:e?"#085FEF":"#00B2FF"},{name:"视频类",data:h.value,stack:"one",type:"bar",color:e?"#01349F":"#81E2FF",itemStyle:{borderRadius:2}}]}));return D(this,null,function*(){d(!0);try{const{data:e}=yield ut();r.value=e[0].x,e.forEach(t=>{t.name==="纯文本"?l.value=t.y:t.name==="图文类"&&(p.value=t.y),h.value=t.y})}catch(e){}finally{d(!1)}}),(e,t)=>{const u=j,x=q("Chart"),v=B,W=k;return A(),S(W,{loading:_(o),style:{width:"100%"}},{default:n(()=>[a(v,{class:"general-card","header-style":{paddingBottom:"14px"}},{title:n(()=>[C(w(e.$t("dataAnalysis.contentPublishRatio")),1)]),extra:n(()=>[a(u,null,{default:n(()=>[C(w(e.$t("workplace.viewMore")),1)]),_:1})]),default:n(()=>[a(x,{style:{width:"100%",height:"347px"},option:_(c)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}}),At=E({__name:"popular-author",setup(i){const{loading:s,setLoading:o}=z(),d=m({list:[]});return D(this,null,function*(){try{o(!0);const{data:l}=yield mt();d.value=l}catch(l){}finally{o(!1)}}),(l,p)=>{const h=j,c=lt,b=st,e=B,t=k;return A(),S(t,{loading:_(s),style:{width:"100%"}},{default:n(()=>[a(e,{class:"general-card","header-style":{paddingBottom:"14px"}},{title:n(()=>[C(w(l.$t("dataAnalysis.popularAuthor")),1)]),extra:n(()=>[a(h,null,{default:n(()=>[C(w(l.$t("workplace.viewMore")),1)]),_:1})]),default:n(()=>[a(b,{data:d.value.list,pagination:!1,bordered:!1,style:{"margin-bottom":"20px"},scroll:{x:"100%",y:"350px"}},{columns:n(()=>[a(c,{title:l.$t("dataAnalysis.popularAuthor.column.ranking"),"data-index":"ranking"},null,8,["title"]),a(c,{title:l.$t("dataAnalysis.popularAuthor.column.author"),"data-index":"author"},null,8,["title"]),a(c,{title:l.$t("dataAnalysis.popularAuthor.column.content"),"data-index":"contentCount",sortable:{sortDirections:["ascend","descend"]}},null,8,["title"]),a(c,{title:l.$t("dataAnalysis.popularAuthor.column.click"),"data-index":"clickCount",sortable:{sortDirections:["ascend","descend"]}},null,8,["title"])]),_:1},8,["data"])]),_:1})]),_:1},8,["loading"])}}}),Ct=T(At,[["__scopeId","data-v-416f128f"]]),wt={class:"container"},St={class:"space-unit"},Et={name:"DataAnalysis"},$t=E(G(V({},Et),{setup(i){return(s,o)=>{const d=q("Breadcrumb"),r=R,l=M,p=it;return A(),rt("div",wt,[a(d,{items:["menu.visualization","menu.visualization.dataAnalysis"]}),a(p,{direction:"vertical",size:12,fill:""},{default:n(()=>[a(p,{direction:"vertical",size:16,fill:""},{default:n(()=>[F("div",St,[a(bt)]),F("div",null,[a(l,{cols:24,"col-gap":16,"row-gap":16},{default:n(()=>[a(r,{span:{xs:24,sm:24,md:24,lg:24,xl:16,xxl:16}},{default:n(()=>[a(Ft)]),_:1}),a(r,{span:{xs:24,sm:24,md:24,lg:24,xl:8,xxl:8}},{default:n(()=>[a(Ct)]),_:1})]),_:1})]),F("div",null,[a(xt)])]),_:1})]),_:1})])}}})),Zt=T($t,[["__scopeId","data-v-6df777ab"]]);export{Zt as default};
