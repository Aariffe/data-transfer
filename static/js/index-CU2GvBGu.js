var H=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var L=(i,n,s)=>n in i?H(i,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[n]=s,y=(i,n)=>{for(var s in n||(n={}))Q.call(n,s)&&L(i,s,n[s]);if(q)for(var s of q(n))Z.call(n,s)&&L(i,s,n[s]);return i},I=(i,n)=>K(i,O(n));var w=(i,n,s)=>new Promise((p,o)=>{var v=r=>{try{e(s.next(r))}catch(m){o(m)}},l=r=>{try{e(s.throw(r))}catch(m){o(m)}},e=r=>r.done?p(r.value):Promise.resolve(r.value).then(v,l);e((s=s.apply(i,n)).next())});import{b3 as j,d as S,h as $,f as h,o as b,x as U,w as a,e as t,k as M,I as B,aQ as P,b6 as R,s as u,aP as G,b as T,t as c,B as N,_ as C,gS as J,a$ as W,S as A,a as D,aL as X,aH as Y,gE as x,gA as ee,A as te,q as oe,b1 as ae,aM as re,gT as le,gU as se,a4 as ne,aC as pe}from"./index-BLKh9tQK.js";/* empty css              *//* empty css              */import{u as ie}from"./loading-CMzUFs6t.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */function me(i){return j.post("/api/channel-form/submit",{data:i})}const ue=S({__name:"base-info",emits:["changeStep"],setup(i,{emit:n}){const s=n,p=$(),o=$({activityName:"",channelType:"",promotionTime:[],promoteLink:"https://arco.design"}),v=()=>w(this,null,function*(){var e;(yield(e=p.value)==null?void 0:e.validate())||s("changeStep","forward",y({},o.value))});return(l,e)=>{const r=B,m=M,d=R,g=P,F=G,k=N,V=U;return b(),h(V,{ref_key:"formRef",ref:p,model:o.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(m,{field:"activityName",label:l.$t("stepForm.form.label.activityName"),rules:[{required:!0,message:l.$t("stepForm.form.error.activityName.required")},{match:/^[a-zA-Z0-9\u4e00-\u9fa5]{1,20}$/,message:l.$t("stepForm.form.error.activityName.pattern")}]},{default:a(()=>[t(r,{modelValue:o.value.activityName,"onUpdate:modelValue":e[0]||(e[0]=f=>o.value.activityName=f),placeholder:l.$t("stepForm.placeholder.activityName")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(m,{field:"channelType",label:l.$t("stepForm.form.label.channelType"),rules:[{required:!0,message:l.$t("stepForm.form.error.channelType.required")}]},{default:a(()=>[t(g,{modelValue:o.value.channelType,"onUpdate:modelValue":e[1]||(e[1]=f=>o.value.channelType=f),placeholder:l.$t("stepForm.placeholder.channelType")},{default:a(()=>[t(d,null,{default:a(()=>e[4]||(e[4]=[u("APP通用渠道")])),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(m,{field:"promotionTime",label:l.$t("stepForm.form.label.promotionTime"),rules:[{required:!0,message:l.$t("stepForm.form.error.promotionTime.required")}]},{default:a(()=>[t(F,{modelValue:o.value.promotionTime,"onUpdate:modelValue":e[2]||(e[2]=f=>o.value.promotionTime=f)},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(m,{field:"promoteLink",label:l.$t("stepForm.form.label.promoteLink"),rules:[{required:!0,message:l.$t("stepForm.form.error.promoteLink.required")},{type:"url",message:l.$t("stepForm.form.error.promoteLink.pattern")}],"row-class":"keep-margin"},{help:a(()=>[T("span",null,c(l.$t("stepForm.form.tip.promoteLink")),1)]),default:a(()=>[t(r,{modelValue:o.value.promoteLink,"onUpdate:modelValue":e[3]||(e[3]=f=>o.value.promoteLink=f),placeholder:l.$t("stepForm.placeholder.promoteLink")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(m,null,{default:a(()=>[t(k,{type:"primary",onClick:v},{default:a(()=>[u(c(l.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),de=C(ue,[["__scopeId","data-v-8d35da44"]]),ce=S({__name:"channel-info",emits:["changeStep"],setup(i,{emit:n}){const s=n,p=$(),o=$({advertisingSource:"",advertisingMedia:"",keyword:[],pushNotify:!0,advertisingContent:""}),v=()=>w(this,null,function*(){var r;(yield(r=p.value)==null?void 0:r.validate())||s("changeStep","submit",y({},o.value))}),l=()=>{s("changeStep","backward")};return(e,r)=>{const m=B,d=M,g=R,F=P,k=J,V=W,f=N,z=A,E=U;return b(),h(E,{ref_key:"formRef",ref:p,model:o.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(d,{field:"advertisingSource",label:e.$t("stepForm.form.label.advertisingSource"),rules:[{required:!0,message:e.$t("stepForm.form.error.advertisingSource.required")}]},{default:a(()=>[t(m,{modelValue:o.value.advertisingSource,"onUpdate:modelValue":r[0]||(r[0]=_=>o.value.advertisingSource=_),placeholder:e.$t("stepForm.placeholder.advertisingSource")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"advertisingMedia",label:e.$t("stepForm.form.label.advertisingMedia"),rules:[{required:!0,message:e.$t("stepForm.form.error.advertisingMedia.required")}]},{default:a(()=>[t(m,{modelValue:o.value.advertisingMedia,"onUpdate:modelValue":r[1]||(r[1]=_=>o.value.advertisingMedia=_),placeholder:e.$t("stepForm.placeholder.advertisingMedia")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"keyword",label:e.$t("stepForm.form.label.keyword"),rules:[{required:!0,message:e.$t("stepForm.form.error.keyword.required")}]},{default:a(()=>[t(F,{modelValue:o.value.keyword,"onUpdate:modelValue":r[2]||(r[2]=_=>o.value.keyword=_),placeholder:e.$t("stepForm.placeholder.keyword"),multiple:""},{default:a(()=>[t(g,null,{default:a(()=>r[5]||(r[5]=[u("今日头条")])),_:1}),t(g,null,{default:a(()=>r[6]||(r[6]=[u("火山")])),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,{field:"pushNotify",label:e.$t("stepForm.form.label.pushNotify"),rules:[{required:!0}]},{default:a(()=>[t(k,{modelValue:o.value.pushNotify,"onUpdate:modelValue":r[3]||(r[3]=_=>o.value.pushNotify=_)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{field:"advertisingContent",label:e.$t("stepForm.form.label.advertisingContent"),rules:[{required:!0,message:e.$t("stepForm.form.error.advertisingContent.required")},{maxLength:200,message:e.$t("stepForm.form.error.advertisingContent.maxLength")}],"row-class":"keep-margin"},{default:a(()=>[t(V,{modelValue:o.value.advertisingContent,"onUpdate:modelValue":r[4]||(r[4]=_=>o.value.advertisingContent=_),placeholder:e.$t("stepForm.placeholder.advertisingContent")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(d,null,{default:a(()=>[t(z,null,{default:a(()=>[t(f,{type:"secondary",onClick:l},{default:a(()=>[u(c(e.$t("stepForm.button.prev")),1)]),_:1}),t(f,{type:"primary",onClick:v},{default:a(()=>[u(c(e.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}}),fe=C(ce,[["__scopeId","data-v-ea20326f"]]),_e={class:"success-wrap"},ve={class:"details-wrapper"},ge=S({__name:"success",emits:["changeStep"],setup(i,{emit:n}){const s=n,p=()=>{s("changeStep",1)};return(o,v)=>{const l=X,e=N,r=A,m=Y,d=ee,g=x;return b(),D("div",_e,[t(l,{status:"success",title:o.$t("stepForm.success.title"),subtitle:o.$t("stepForm.success.subTitle")},null,8,["title","subtitle"]),t(r,{size:16},{default:a(()=>[t(e,{key:"view",type:"primary"},{default:a(()=>[u(c(o.$t("stepForm.button.view")),1)]),_:1}),t(e,{key:"again",type:"secondary",onClick:p},{default:a(()=>[u(c(o.$t("stepForm.button.again")),1)]),_:1})]),_:1}),T("div",ve,[t(m,{heading:6,style:{"margin-top":"0"}},{default:a(()=>[u(c(o.$t("stepForm.form.description.title")),1)]),_:1}),t(g,{style:{"margin-bottom":"0"}},{default:a(()=>[u(c(o.$t("stepForm.form.description.text"))+" ",1),t(d,{href:"link"},{default:a(()=>[u(c(o.$t("stepForm.button.view")),1)]),_:1})]),_:1})])])}}}),be=C(ge,[["__scopeId","data-v-7a40f379"]]),ye={class:"container"},he={class:"wrapper"},$e={name:"Step"},Fe=S(I(y({},$e),{setup(i){const{loading:n,setLoading:s}=ie(!1),p=$(1),o=$({}),v=()=>w(this,null,function*(){s(!0);try{yield me(o.value),p.value=3,o.value={}}catch(e){}finally{s(!1)}}),l=(e,r)=>{if(typeof e=="number"){p.value=e;return}if(e==="forward"||e==="submit"){if(o.value=y(y({},o.value),r),e==="submit"){v();return}p.value+=1}else e==="backward"&&(p.value-=1)};return(e,r)=>{const m=te("Breadcrumb"),d=se,g=le,F=re,k=ae;return b(),D("div",ye,[t(m,{items:["menu.form","menu.form.step"]}),t(k,{loading:oe(n),style:{width:"100%"}},{default:a(()=>[t(F,{class:"general-card"},{title:a(()=>[u(c(e.$t("stepForm.step.title")),1)]),default:a(()=>[T("div",he,[t(g,{current:p.value,"onUpdate:current":r[0]||(r[0]=V=>p.value=V),style:{width:"580px"},"line-less":"",class:"steps"},{default:a(()=>[t(d,{description:e.$t("stepForm.step.subTitle.baseInfo")},{default:a(()=>[u(c(e.$t("stepForm.step.title.baseInfo")),1)]),_:1},8,["description"]),t(d,{description:e.$t("stepForm.step.subTitle.channel")},{default:a(()=>[u(c(e.$t("stepForm.step.title.channel")),1)]),_:1},8,["description"]),t(d,{description:e.$t("stepForm.step.subTitle.finish")},{default:a(()=>[u(c(e.$t("stepForm.step.title.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(b(),h(pe,null,[p.value===1?(b(),h(de,{key:0,onChangeStep:l})):p.value===2?(b(),h(fe,{key:1,onChangeStep:l})):p.value===3?(b(),h(be,{key:2,onChangeStep:l})):ne("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}})),Ke=C(Fe,[["__scopeId","data-v-ec38c6f3"]]);export{Ke as default};
